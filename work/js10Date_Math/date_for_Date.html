<!doctype html>
<html>
<head>
	<meta charset="utf-8" />
	<title>日历</title>
	<meta name="description" content="" />
	<style>
		* {
			margin: 0;
			padding: 0;
		}
		button {
			width: 40px;
			height: 40px;
			float: left;
		}
		.top {
			width: 400px;
			height: 40px;
			border: 1px solid #ccc;
			margin: 50px auto 0;
		}
		.month {
			width: 320px;
			height: 40px;
			line-height: 40px;
			text-align: center;
			float: left;
			background-color: #eee;
		}
		.days {
			width: 400px;
			height: 300px;
			border: 1px solid #ccc;
			margin: 0 auto;
		}
		.days li {
			width: 57px;
			height: 60px;
			line-height: 60px;
			text-align: center;
			font-size: 30px;
			list-style-type: none;
			float: left;
		}
	</style>
</head>
<body>
	<div class="top">
		<button id="prev">《</button>
		<h1 id="month" class="month">2013年12月</h1>
		<button id="next">》</button>
	</div>
	<ul id="days" class="days">
	</ul>

	<script>
		var days = document.getElementById("days");
		var nextBtn = document.getElementById("next");
		var prevBtn = document.getElementById("prev");
		var monthTop = document.getElementById("month");
		var thisTime = new Date();
		var month = thisTime.getMonth() + 1;	// 获取当前月份
		var year = thisTime.getFullYear();		// 获取当前年份
		
		// 根据年份（y）月份（m）参数计算当月天数，并显示到页面
		function setMonth(y, m) {
			changeTop(y, m);
			clearDays();
			getDate(getDays(y, m));
		}
		// 获取当月天数。
		function getDays(y, m) {
			var time = new Date(y, m);  
			time.setDate(0);
			return time.getDate();
		}
		// 改变年份和月份的显示
		function changeTop(y, m) {
			monthTop.innerHTML = y + "年" + m + "月";
		}
		// 清除日历日期
		function clearDays () {
			days.innerHTML = "";
		}
		// 根据m月份的天数显示日历日期
		function getDate(num) {
			for (var i = 1 ; i <= num; i++){
				days.innerHTML += "<li>" + i + "</li>";
			}
		}
		
		// 判断月份是否在合理范围内，并增减相应年份
		function judgeYM(m) {
			if (m > 12){
				m = 1;
				year ++;
			} else if (m < 1){
				m = 12;
				year --;
			}
			return m;
		}
		// 下一个月按钮
		nextBtn.onclick = function() {
			month ++;
			month = judgeYM(month);
			setMonth(year, month);
		}
		// 上一个月按钮
		prevBtn.onclick = function() {
			month --;
			month = judgeYM(month);
			setMonth(year, month);
		}
		// 默认执行年份月份
		setMonth(year, month);
	</script>
</body>
</html>